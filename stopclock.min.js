!function(a){function b(a){if(this.options={startTime:"0h0m",countDown:!1,onTick:null,onZero:null},"object"==typeof a)for(var b in a)this.options[b]=a[b];"string"==typeof a&&(this.options.startTime=a),this.timerId=null,this.secondsElapsed=0,this.hh="00",this.mm="00",this.ss="00",this.set(this.options.startTime)}b.prototype.stop=function(){return this.timerId&&(clearInterval(this.timerId),this.timerId=null),this},b.prototype.start=function(){this.stop();var a=this;return this.timerId=setInterval(function(){a.tick()},1e3),this},b.prototype.set=function(a){return this.secondsElapsed=this.parsePrettyTime(a).deltaSeconds,this.updateHands(),this},b.prototype.updateHands=function(){this.hh=this.pad(parseInt(this.secondsElapsed/3600,10)),this.mm=this.pad(parseInt(this.secondsElapsed/60,10)),this.ss=this.pad(this.secondsElapsed%60);var a=parseInt(this.mm,10);return a>=60&&(this.mm=this.pad(this.mm-60*parseInt(a/60,10))),this},b.prototype.pad=function(a){return a.toString().length>1?a.toString():"0"+a},b.prototype.tick=function(){return this.options.countDown?--this.secondsElapsed:++this.secondsElapsed,this.updateHands(),"function"==typeof this.options.onTick&&this.options.onTick.call(this),"00:00:00"===this.toString()&&(this.stop(),"function"==typeof this.options.onZero&&this.options.onZero.call(this)),this},b.prototype.toString=function(){return this.hh+":"+this.mm+":"+this.ss},b.prototype.parsePrettyTime=function(a){a&&"string"==typeof a||(a="0h0m");var b=/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?/i,c=a.replace(/\s/g,"").match(b),d=parseInt(c[1]||0,10),e=parseInt(c[2]||0,10),f=parseInt(c[3]||0,10),g=1e3*60*60*d+1e3*60*e+1e3*f,h=g/1e3;return{hours:d,minutes:e,seconds:f,delta:g,deltaSeconds:h}},b.prototype.isRunning=function(){return!!this.timerId},"undefined"!=typeof module&&module.exports?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):a.StopClock=b}(this);